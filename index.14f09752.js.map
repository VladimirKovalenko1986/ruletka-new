{"mappings":"AAAA,MAAMA,EAAO,CACXC,UAAWC,SAASC,cAAc,iBAClCC,SAAUF,SAASC,cAAc,aACjCE,KAAMH,SAASC,cAAc,UAG/BH,EAAKI,SAASE,iBAAiB,SAE/B,WACEN,EAAKK,KAAKE,YAAc,GACxB,MAAMC,EAAW,IAAIR,EAAKC,UAAUQ,UAAUC,KAAIC,GACzC,IAAIC,SAAQ,CAACC,EAAKC,IACvBC,KAAKC,SAAW,GAAMH,EAAI,MAAUC,EAAI,UAGzCG,QAAQC,IAAIV,GAEZI,QAAQO,WAAWX,GAAUY,MAAKC,IAChC,MAAMC,EACJD,EAAME,OAAM,EAACC,OAAEA,KAAwB,cAAXA,KAC5BH,EAAME,OAAM,EAACC,OAAEA,KAAwB,aAAXA,IAE9BH,EAAMI,SAAQ,CAACd,EAAMe,KACnB1B,EAAKC,UAAUQ,SAASiB,GAAKnB,YAAc,GAC3CoB,YAAW,KACT3B,EAAKC,UAAUQ,SAASiB,GAAKnB,YAAcI,EAAKiB,OAASjB,EAAKkB,OAE1DH,IAAQL,EAAMS,OAAS,IACzB9B,EAAKK,KAAKE,YAAce,EAAW,SAAW,QAAO,GAEtD,KAAQI,EAAM,GAAG,GACpB,G","sources":["src/index.js"],"sourcesContent":["const refs = {\n  conteiner: document.querySelector('.js-conteiner'),\n  startBtn: document.querySelector('.js-start'),\n  text: document.querySelector('.text'),\n};\n\nrefs.startBtn.addEventListener('click', handleStart);\n\nfunction handleStart() {\n  refs.text.textContent = '';\n  const promises = [...refs.conteiner.children].map(item => {\n    return new Promise((res, rej) =>\n      Math.random() > 0.5 ? res('ðŸ˜') : rej('ðŸ˜ˆ')\n    );\n  });\n  console.log(promises);\n\n  Promise.allSettled(promises).then(items => {\n    const isWinner =\n      items.every(({ status }) => status === 'fulfilled') ||\n      items.every(({ status }) => status === 'rejected');\n\n    items.forEach((item, idx) => {\n      refs.conteiner.children[idx].textContent = '';\n      setTimeout(() => {\n        refs.conteiner.children[idx].textContent = item.value || item.reason;\n\n        if (idx === items.length - 1) {\n          refs.text.textContent = isWinner ? 'WInner' : 'Loser';\n        }\n      }, 1000 * (idx + 1));\n    });\n  });\n}\n"],"names":["$1f0dc3b9307be026$var$refs","conteiner","document","querySelector","startBtn","text","addEventListener","textContent","promises","children","map","item","Promise","res","rej","Math","random","console","log","allSettled","then","items","isWinner","every","status","forEach","idx","setTimeout","value","reason","length"],"version":3,"file":"index.14f09752.js.map"}